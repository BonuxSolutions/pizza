package pizza;/*
 * This Java source file was generated by the Gradle 'init' task.
 */

import org.junit.Test;

import java.net.URL;
import java.util.Optional;

import static org.hamcrest.core.Is.*;


import static org.junit.Assert.assertNotNull;
import static org.junit.Assert.assertThat;

public class AppTest {
  @Test
  public void testAppHasAGreeting() {
    App classUnderTest = new App();
    assertNotNull("app should have a greeting", classUnderTest.getGreeting());
  }

  @Test
  public void testFileUtils() {
    Optional<Pizza> maybePizza =
        Optional
            .ofNullable(getClass().getClassLoader().getResource("example.in"))
            .map(URL::getFile)
            .map(FileUtils::readInput);

    String result = "3 5 1 6\n" +
        "TTTTT\n" +
        "TMMMT\n" +
        "TTTTT";

    assertThat(maybePizza.isPresent(), is(true));
    maybePizza.ifPresent(pizza -> assertThat(pizza.toString(), is(result)));
  }
}
